if (self.CavalryLogger) { CavalryLogger.start_js(["mj1gE"]); }

__d("MessagingPluginDesktopProfilePicture.react",["cx","Image.react","MessagingPluginContext","PrivacyTransparentOverlay.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.context.state,c=a.pageProfilePictureUri;a=a.isBusinessActive;var d=this.props,e=d.className;d=d.greenDotSize;d=d==="large"?"_95lb _97p-":"_95lb _97ot";return h.jsxs(b("PrivacyTransparentOverlay.react"),{children:[h.jsx(b("Image.react"),{className:(e=e)!=null?e:"_95la",src:c}),a?h.jsx("div",{className:d}):null]})};return c}(h.Component);e.exports=a;a.contextType=b("MessagingPluginContext")}),null);
__d("MessagingPluginDesktopThreadMenu.react",["cx","fbt","CometMenu.react","CometMenuItem.react","CometSeparatorMenuItem.react","MessagingPluginContext","MessagingPluginThreadActions","MPNIdentity","React","URI"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j=b("React");function a(a){var c=j.useContext(b("MessagingPluginContext")),d=c.state,e=d.pageID,f=d.isPageBlocked,g=d.locale;d=d.showUpgradeUpsellPrompt;var k=b("MPNIdentity").MPNIdentity.currentUserState()===b("MPNIdentity").MPNIdentityState.GUEST;return j.jsx("div",{className:"_968x",children:j.jsxs(b("CometMenu.react"),{size:"full",withArrow:!0,children:[k&&d?j.jsx(b("CometMenuItem.react"),{icon:{src:"/images/web_messenger/app-messenger_32-4x.png",style:"square"},iconStyle:"normal",onClick:function(){return a.onUpgrade()},primaryText:h._("Forts\u00e4tt i Messenger")}):null,j.jsx(b("CometMenuItem.react"),{icon:{src:"/images/web_messenger/cross-circle_32-4x.png",style:"square"},onClick:function(){c.dispatchAction({type:"TOGGLE_END_CHAT",showEndChat:!0})},primaryText:h._("Avsluta chatten")}),!k&&f!=null?j.jsx(b("CometMenuItem.react"),{icon:{src:"/images/web_messenger/message-cross_32-4x.png",style:"square"},iconStyle:"normal",onClick:function(){b("MessagingPluginThreadActions").blockOrUnblockPage(c)},primaryText:f?h._("Aktivera meddelanden"):h._("St\u00e4ng av meddelanden")}):null,k?null:j.jsx(b("CometMenuItem.react"),{icon:{src:"/images/web_messenger/bell-cross_32-4x.png",style:"square"},iconStyle:"normal",onClick:a.onClickMuteOrUnmute,primaryText:a.isMuted?h._("\u00c5teraktivera konversation"):h._("Inaktivera konversation")}),j.jsx(b("CometMenuItem.react"),{icon:{src:"/images/web_messenger/caution-triangle_32-4x.png",style:"square"},iconStyle:"normal",onClick:function(){b("MessagingPluginThreadActions").openFRXPrompt(e,g)},primaryText:h._("N\u00e5got \u00e4r fel")}),j.jsx(b("CometSeparatorMenuItem.react"),{}),j.jsx(b("CometMenuItem.react"),{onClick:function(){(i||(i=b("URI"))).goURIOnNewWindow("https://www.facebook.com/"+e)},primaryText:h._("G\u00e5 till Facebook-sidan")}),j.jsx(b("CometMenuItem.react"),{onClick:function(){(i||(i=b("URI"))).goURIOnNewWindow("https://www.facebook.com/business/m/add-messenger-to-your-website")},primaryText:h._("L\u00e4gg till Messenger p\u00e5 din webbplats")})]})})}}),null);
__d("MPNDesktopDialogHeader.react",["ix","cx","fbt","Arbiter","BasePopoverTrigger.react","Image.react","LineClamp.react","LiveChatPluginLoggerUtil","MessagingPluginContext","MessagingPluginDesktopProfilePicture.react","MessagingPluginDesktopThreadMenu.react","MessagingPluginThreadActions","MPNConstants","MPNHeaderActionButton.react","MPNMoreInfoButtonSVG.react","React","asset","stylex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=b("React");(j||(j=b("stylex"))).inject(".qmqpeqxj{border-top-left-radius:50%}",1,".qmqpeqxj{border-top-right-radius:50%}");j.inject(".e7u6y3za{border-top-right-radius:50%}",1,".e7u6y3za{border-top-left-radius:50%}");j.inject(".qwcclf47{border-bottom-right-radius:50%}",1,".qwcclf47{border-bottom-left-radius:50%}");j.inject(".nmlomj2f{border-bottom-left-radius:50%}",1,".nmlomj2f{border-bottom-right-radius:50%}");j.inject(".hpj0pwwo{font-size:1.0625rem}",1);j.inject(".igjjae4c{font-weight:bold}",1);j.inject(".mov749r8{color:var(--fds-black-alpha-50)}",1);j.inject(".nfkogyam{font-size:0.8125rem}",1);a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=null,d.state={isMuted:d.context.state.isMuted},d.$3=function(){var a=d.context.state,c=a.guestID;a=a.pageID;d.$1=b("MessagingPluginThreadActions").launchUpgradeFlowDesktop(d.context,d.props.history,b("MPNConstants").MPNUpgradePrompt.CONTINUE_IN_MESSENGER);b("LiveChatPluginLoggerUtil").logActionFromNewUI("in_thread_action",c,a,"guest_chat_tab",{action_type:b("MPNConstants").MPNUpgradePrompt.CONTINUE_IN_MESSENGER})},d.$2=function(){var a=d.state.isMuted;b("MessagingPluginThreadActions").muteOrUnmutePage(d.context.state.pageID,a);d.setState({isMuted:!a})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentWillUnmount=function(){this.$1&&b("Arbiter").unsubscribe(this.$1)};d.render=function(){var a=this,c=this.context.state.pageName,d=this.props.menuEnabled!==!1;return k.jsxs("div",{className:"_9dxj",children:[k.jsx("div",{className:"nmlomj2f qwcclf47 e7u6y3za qmqpeqxj",children:k.jsx(b("MessagingPluginDesktopProfilePicture.react"),{})}),k.jsxs("div",{className:"_9dxi",children:[k.jsx(b("LineClamp.react"),{className:"igjjae4c hpj0pwwo",lines:1,children:k.jsx("strong",{children:c})}),k.jsx(b("LineClamp.react"),{className:"nfkogyam mov749r8",lines:1,children:i._("Drivs av Messenger")})]}),k.jsx("div",{className:"_9dxh"}),k.jsxs("div",{className:"_9dzn",children:[d&&k.jsx(b("BasePopoverTrigger.react"),{autoAlign:!0,popover:b("MessagingPluginDesktopThreadMenu.react"),popoverProps:{history:this.props.history,isMuted:this.state.isMuted,onClickMuteOrUnmute:this.$2,onUpgrade:this.$3},children:function(a,c){return k.jsx("div",{ref:a,children:k.jsx(b("MPNHeaderActionButton.react"),{label:i._("Mer"),onPress:c,children:k.jsx(b("MPNMoreInfoButtonSVG.react"),{})})})}}),k.jsx(b("MPNHeaderActionButton.react"),{label:i._("st\u00e4ng"),onPress:function(){var b;return(b=a.props.ActionDelegate)==null?void 0:b.minimize()},children:k.jsx(b("Image.react"),{src:g("587992")})})]})]})};return c}(k.PureComponent);e.exports=a;a.contextType=b("MessagingPluginContext")}),null);
__d("EllipsisText.react",["cx","DOMContainer.react","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React");function a(a){var c=a.children instanceof Node?h.jsx(b("DOMContainer.react"),{children:a.children}):a.children;return h.jsx("span",{id:a.id,className:b("joinClasses")(a.className,"_6i6a"),children:c})}}),null);
__d("MPNDesktopSwitchAccountMenu.react",["cx","fbt","CometMenu.react","CometMenuItem.react","MessagingPluginContext","MessagingPluginThreadActions","React"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i=b("React");function a(a){var c=i.useContext(b("MessagingPluginContext"));return i.jsx("div",{"data-testid":void 0,className:"_968x",children:i.jsx(b("CometMenu.react"),{size:"normal",withArrow:!0,children:i.jsx(b("CometMenuItem.react"),{onClick:function(){b("MessagingPluginThreadActions").switchAccount(c)},primaryText:h._("Byt konto")})})})}}),null);
__d("MessagingPluginDesktopInformationMenu.react",["cx","fbt","CometMenu.react","CometMenuItem.react","MessagingPluginContext","React","URI"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j=b("React");function a(a){a=j.useContext(b("MessagingPluginContext"));var c=a.state.pageID;return j.jsx("div",{"data-testid":void 0,className:"_968x",children:j.jsxs(b("CometMenu.react"),{size:"full",withArrow:!0,children:[j.jsx(b("CometMenuItem.react"),{onClick:function(){(i||(i=b("URI"))).goURIOnNewWindow("https://www.facebook.com/"+c)},primaryText:h._("G\u00e5 till Facebook-sidan")}),j.jsx(b("CometMenuItem.react"),{onClick:function(){(i||(i=b("URI"))).goURIOnNewWindow("https://www.facebook.com/business/m/add-messenger-to-your-website")},primaryText:h._("L\u00e4gg till Messenger p\u00e5 din webbplats")})]})})}}),null);
__d("XChatPluginDesktopIncognitoLoginPopupController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/plugins/chat/incognito_login/",{})}),null);
__d("MPNDesktopWelcomePageModal.react",["ix","cx","fbt","BasePopoverTrigger.react","CometLink.react","CometPressable.react","EllipsisText.react","Image.react","LineClamp.react","LiveChatPluginConstants","LiveChatPluginLoggerUtil","MessagingPluginContext","MessagingPluginDesktopInformationMenu.react","MessagingPluginDesktopProfilePicture.react","MPNConstants","MPNDesktopSwitchAccountMenu.react","MPNHeaderActionButton.react","MPNIdentity","MPNLocalState","MPNMessengerIconSVG.react","MPNMoreInfoButtonSVG.react","MPNNavigation","MPNStorage","MPNXDMessageManager","PluginOptin","PopupWindow","React","ReactDOM","ShimButton.react","XChatPluginDesktopIncognitoLoginPopupController","XCookiesPolicyController","XDataPolicyController","XTermsController","asset","gkx","performanceAbsoluteNow"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=b("React"),l=250;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.modalSheetRef=k.createRef(),d.$7=function(){var a=d.context,c=a.state;a=a.dispatchAction;c=c.pageID;a({type:"UPDATE_CONTINUE_CLICK_TIME",continueClickTime:(j||(j=b("performanceAbsoluteNow")))()});b("MPNIdentity").MPNIdentity.performUIAction(d.$10,function(){var a=b("MPNStorage").getFBStorageState();a==null?a={requestID:b("MPNStorage").requestID,currentPath:b("MPNLocalState").MPNLocalStatePath.THREAD_VIEW,userID:"0",chatState:b("MPNLocalState").MPNChatState.CHAT_NOT_STARTED,visibility:"not-hidden",showUpgradePrompt:b("MPNConstants").MPNUpgradePrompt.NOT_SHOWN,accessToken:null,expirationTimestamp:null,rdr:b("MPNConstants").MPNRedirect.NEW_GUEST_SESSION}:a=babelHelpers["extends"]({},a,{chatState:b("MPNLocalState").MPNChatState.CHAT_NOT_STARTED,rdr:"new_guest_sess"});b("MPNStorage").setFBStorageState(a);b("MPNXDMessageManager").reloadPlugin()},function(){var a=d.context.dispatchAction;a({type:"UPDATE_COOKIE_ACCESS_DENIED",cookieAccessDenied:!0});d.$10()});b("LiveChatPluginLoggerUtil").logActionFromNewUI("tab_click",null,c,"welcome_page_with_guest_option",{button_name:"continue_as_guest"})},d.$10=function(){b("MPNNavigation").navigateToRoute(d.props.history,b("MPNLocalState").MPNLocalStatePath.THREAD_VIEW),d.props.ActionDelegate&&d.props.ActionDelegate.onContinueAsGuest(function(){})},d.$11=function(){var a=d.context,c=a.state;a=a.dispatchAction;c=c.pageID;a({type:"UPDATE_CONTINUE_CLICK_TIME",continueClickTime:(j||(j=b("performanceAbsoluteNow")))()});b("MPNIdentity").MPNIdentity.performUIAction(function(){b("MPNNavigation").navigateToRoute(d.props.history,b("MPNLocalState").MPNLocalStatePath.THREAD_VIEW)},function(){b("MPNIdentity").MPNIdentity.clearUserChangesSubscription(),b("MPNStorage").setPath(b("MPNLocalState").MPNLocalStatePath.THREAD_VIEW),b("MPNXDMessageManager").reloadPlugin()},function(){b("MPNStorage").clearThirdPartyStorageState(),b("MPNXDMessageManager").reloadPlugin()});b("LiveChatPluginLoggerUtil").logActionFromNewUI("tab_click",null,c,"itp_page",{button_name:"continue"})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this.context.state.hasGuestMode;this.$1(a)};d.render=function(){return k.jsx("div",{children:this.$2()})};d.$2=function(){var a=this,c=this.context.state,d=c.hasGuestMode;c=c.pageName;var e=this.context.state,f=b("MPNIdentity").MPNIdentity.currentUserState()==b("MPNIdentity").MPNIdentityState.FB,h=b("gkx")("1189683"),j=b("XTermsController").getURIBuilder().getURI().toString(),l=b("XDataPolicyController").getURIBuilder().getURI().toString(),m=b("XCookiesPolicyController").getURIBuilder().getURI().toString(),n=i._("Chatta med {pageName}",[i._param("pageName",e.pageName)]);return k.jsx("div",{role:"none",className:"_94ve",children:k.jsx("div",{ref:this.modalSheetRef,className:"_94vf",onClick:this.$3,role:"none",children:k.jsxs("div",{className:"welcomePageModalSheetContent",children:[k.jsxs("div",{className:"_9095",children:[k.jsx(b("MessagingPluginDesktopProfilePicture.react"),{className:"_9096",greenDotSize:"large"}),k.jsx("div",{className:"_9dxh"}),k.jsxs("div",{className:"_9dzn",children:[f?k.jsx(b("BasePopoverTrigger.react"),{align:"middle",autoAlign:!0,popover:b("MPNDesktopSwitchAccountMenu.react"),popoverProps:{},children:function(a,c){return k.jsx("div",{ref:a,className:"_97lh",children:k.jsxs(b("CometPressable.react"),{testid:void 0,onPress:c,overlayRadius:6,children:[k.jsx(b("Image.react"),{className:"_95lg _97lg",src:e.viewerProfilePicureUri}),k.jsx(b("Image.react"),{className:"_97lc",src:g("481882")})]})})}}):null,k.jsx(b("BasePopoverTrigger.react"),{autoAlign:!0,popover:b("MessagingPluginDesktopInformationMenu.react"),popoverProps:{},children:function(a,c){return k.jsx("div",{ref:a,children:k.jsx(b("MPNHeaderActionButton.react"),{label:i._("Mer"),onPress:c,children:k.jsx(b("MPNMoreInfoButtonSVG.react"),{})})})}}),k.jsx(b("MPNHeaderActionButton.react"),{label:i._("st\u00e4ng"),onPress:function(){var b;return(b=a.props.ActionDelegate)==null?void 0:b.minimize()},children:k.jsx(b("Image.react"),{src:g("587992")})})]})]}),k.jsx(b("LineClamp.react"),{className:"_9099",lines:1,children:k.jsx("strong",{children:n})}),k.jsx(b("LineClamp.react"),{className:"_909a",lines:1,children:e.pageResponsiveness}),k.jsx(b("LineClamp.react"),{className:"_909b",lines:3,children:f?e.loggedInGreeting:e.loggedOutGreeting}),this.props.useITPContinueButton?this.$4():this.$5(d),k.jsx("div",{className:"_924l",children:this.props.useITPContinueButton?null:d?h?i._("N\u00e4r du forts\u00e4tter som g\u00e4st godk\u00e4nner du Facebooks {=Terms}. L\u00e4s mer om hur vi samlar in, anv\u00e4nder och delar dina data i v\u00e5r {=Data Policy} och hur vi anv\u00e4nder cookies och liknande teknologi i v\u00e5r {=Cookies Policy}. Om du v\u00e4ljer att logga in kommer {pageName} se vilken webbplats du kom ifr\u00e5n och den information som \u00e4r offentlig p\u00e5 din Facebook-profil.",[i._param("=Terms",k.jsx(b("CometLink.react"),{href:j,target:"_blank",children:i._("anv\u00e4ndarvillkor")})),i._param("=Data Policy",k.jsx(b("CometLink.react"),{href:l,target:"_blank",children:i._("datapolicy")})),i._param("=Cookies Policy",k.jsx(b("CometLink.react"),{href:m,target:"_blank",children:i._("cookiespolicy")})),i._param("pageName",c)]):i._("N\u00e4r du forts\u00e4tter som g\u00e4st godk\u00e4nner du Facebooks {=Terms}, {=Data Policy} och {=Cookies Policy}. Om du v\u00e4ljer att logga in kommer {pageName} att se den webbplats du kom ifr\u00e5n och information som \u00e4r offentlig p\u00e5 din Facebook-profil.",[i._param("=Terms",k.jsx(b("CometLink.react"),{href:j,target:"_blank",children:i._("anv\u00e4ndarvillkor")})),i._param("=Data Policy",k.jsx(b("CometLink.react"),{href:l,target:"_blank",children:i._("datapolicy")})),i._param("=Cookies Policy",k.jsx(b("CometLink.react"),{href:m,target:"_blank",children:i._("cookiespolicy")})),i._param("pageName",c)]):i._("Om du v\u00e4ljer att logga in, kommer {pageName} att se webbplatsen du kom ifr\u00e5n och informationen som du har gjort offentlig i din Facebook-profil.",[i._param("pageName",c)])})]})})})};d.$6=function(){var a,c=b("MPNIdentity").MPNIdentity.currentUserState()==b("MPNIdentity").MPNIdentityState.FB;a=(a=b("MPNIdentity").MPNIdentity.currentUser())==null?void 0:a.shortName;if(!c)return i._("Logga in p\u00e5 Messenger");return a!==null?i._("Forts\u00e4tt som {first name}",[i._param("first name",a)]):i._("Forts\u00e4tt")};d.$5=function(a){var c=this.context.state.threadCSSColor,d=b("MPNIdentity").MPNIdentity.currentUserState()==b("MPNIdentity").MPNIdentityState.FB;d=a?k.jsx(b("ShimButton.react"),{"data-testid":void 0,onClick:this.$7,className:"_909e",children:k.jsx(b("LineClamp.react"),{lines:1,children:i._("Forts\u00e4tt som g\u00e4st")})}):null;return k.jsxs("div",{className:"_909c",children:[k.jsxs(b("ShimButton.react"),{"data-testid":void 0,onClick:this.$8.bind(this),className:"_909d",style:{backgroundColor:c},children:[k.jsx(b("MPNMessengerIconSVG.react"),{}),k.jsx(b("EllipsisText.react"),{className:"continueText",children:this.$6()})]}),d]})};d.$8=function(){var a=this,c=this.context,d=c.state,e=c.dispatchAction;c=d.pageID;var f=d.hasGuestMode,g=d.pagePassesSentryTest;d=d.hasMessagingPermission;var h=b("MPNIdentity").MPNIdentity.currentUserState(),i=b("MPNIdentity").MPNIdentity.currentUserID();e({type:"UPDATE_CONTINUE_CLICK_TIME",continueClickTime:(j||(j=b("performanceAbsoluteNow")))()});if(h==b("MPNIdentity").MPNIdentityState.FB&&i!=null){if(!g&&!d){(h=this.props.ActionDelegate)==null?void 0:h.openThreadWithInterstitial(function(){var c;(c=a.props.ActionDelegate)==null?void 0:c.openThreadWithCurrentFBUser();b("MPNNavigation").navigateToRoute(a.props.history,b("MPNLocalState").MPNLocalStatePath.THREAD_VIEW);e({type:"UPDATE_BLOCK_STATUS",isPageBlocked:!1})});return}b("MPNNavigation").navigateToRoute(this.props.history,b("MPNLocalState").MPNLocalStatePath.THREAD_VIEW);(i=this.props.ActionDelegate)==null?void 0:i.openThreadWithCurrentFBUser();b("LiveChatPluginLoggerUtil").logActionFromNewUI("tab_click",null,c,f?"welcome_page_with_guest_option":"welcome_page",{button_name:"continue_as"});return}b("MPNIdentity").MPNIdentity.performUIAction(function(){if(b("MPNIdentity").MPNIdentity.cookieUserUncached()!="0")return;b("MPNIdentity").MPNIdentity.subscribeLoggedInUserChanges(function(a,c){a=b("MPNStorage").getFBStorageState();if(a!=null){b("MPNStorage").setFBStorageState(babelHelpers["extends"]({},a,{chatState:b("MPNLocalState").MPNChatState.LOGGED_IN_CHAT_STARTED,rdr:b("MPNConstants").MPNRedirect.FB_LOG_IN}));c={path:b("MPNLocalState").MPNLocalStatePath.THREAD_VIEW,chatState:b("MPNLocalState").MPNChatState.LOGGED_IN_CHAT_STARTED,visibility:"not-hidden"};b("MPNStorage").setThirdPartyStorageState(c)}},l);a.$9(!1,!1)},function(){if(b("MPNIdentity").MPNIdentity.cookieUserUncached()!="0"){b("MPNXDMessageManager").reloadPlugin();return}b("MPNIdentity").MPNIdentity.subscribeLoggedInUserChanges(function(a,c){a=b("MPNStorage").getFBStorageState();a!=null&&b("MPNStorage").setFBStorageState(babelHelpers["extends"]({},a,{chatState:b("MPNLocalState").MPNChatState.LOGGED_IN_CHAT_STARTED,rdr:b("MPNConstants").MPNRedirect.FB_LOG_IN}))},l);a.$9(!1,!1)},function(){var a=b("XChatPluginDesktopIncognitoLoginPopupController").getURIBuilder().getURI();b("PopupWindow").open(a.toString(),420,450)});b("LiveChatPluginLoggerUtil").logActionFromNewUI("tab_click",null,c,f?"welcome_page_with_guest_option":"welcome_page",{button_name:"log_in_messenger"})};d.$9=function(a,c){var d=this.context.state,e=d.refererUri,f=d.pageID,g=d.initialRequestUri;d=d.requestID;new(b("PluginOptin"))("customer_chat").addLoginParams({logged_in:a,page_id:f,switch_user:c,request_id:d}).addReturnParams((a=g==null?void 0:g.getQueryData())!=null?a:{}).addReturnParams({customer_chat_origin_uri:e,referer_uri:e}).start()};d.$4=function(){var a=this.context.state.threadCSSColor;return k.jsx("div",{className:"_909c",children:k.jsx(b("ShimButton.react"),{onClick:this.$11,className:"_909d",style:{backgroundColor:a},children:k.jsx(b("LineClamp.react"),{className:"continueText",lines:1,children:i._("Forts\u00e4tt")})})})};d.$1=function(a){var c=b("ReactDOM").findDOMNode(this.modalSheetRef.current);if(c instanceof HTMLElement){a=a?b("LiveChatPluginConstants").WELCOME_PAGE_GUEST_FALLBACK_HEIGHT:b("LiveChatPluginConstants").WELCOME_PAGE_NO_GUEST_FALLBACK_HEIGHT;c=Math.max(c.offsetHeight,a);a=c+b("LiveChatPluginConstants").WELCOME_PAGE_PADDING_HEIGHT;b("MPNXDMessageManager").resizeIframe(a.toString())}};d.$3=function(a){a.stopPropagation()};return c}(k.Component);e.exports=a;a.contextType=b("MessagingPluginContext")}),null);
__d("MPNDesktopITPContinuePage.react",["LiveChatPluginLoggerUtil","MessagingPluginContext","MPNDesktopWelcomePageModal.react","MPNXDMessageManager","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){var a=this.context.state,c=a.alignment,d=a.pageID;a=a.pluginMountTime;b("MPNXDMessageManager").setupDesktopIframe(c);b("LiveChatPluginLoggerUtil").logImpressionFromNewUI("tab_impression",d,"itp_page",a,["continue"])};d.render=function(){try{return g.jsx(b("MPNDesktopWelcomePageModal.react"),{ActionDelegate:this.props.ActionDelegate,history:this.props.history,useITPContinueButton:!0})}catch(a){b("LiveChatPluginLoggerUtil").logImpressionExceptionsFromNewUI("tab_load_failure",this.context.state.pageID,"itp_page",a.name,a.message,a.stack)}};return c}(g.Component);e.exports=a;a.contextType=b("MessagingPluginContext")}),null);
__d("MPNDesktopIcon.react",["ClickableArea.react","LiveChatPluginDefaultMessengerIconSVG.react","LiveChatPluginLoggerUtil","LiveChatPluginMessengerIconSVGWithColor.react","MPNXDMessageManager","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={visibility:d.props.initialVisibility},d.$1=function(a){a=((a=a.data.params)==null?void 0:a.is_dialog_hidden)==!0?"hidden":"not-hidden";d.setState({visibility:a})},d.$2=function(){b("MPNXDMessageManager").fetchThirdPartyState(function(a){a=(a=a==null?void 0:(a=a.params)==null?void 0:a.visibility)!=null?a:d.state.visibility;var b=a=="hidden"?"not-hidden":"hidden";a=="not-hidden"?d.props.actionDelegate.minimize():d.props.actionDelegate.maximize();d.setState({visibility:b})})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){b("LiveChatPluginLoggerUtil").logImpressionFromNewUI("tab_impression",this.props.pageID,"plugin_icon",this.props.pluginRequestTime),b("MPNXDMessageManager").subscribeEvent("desktop-icon","message","CustomerChat.isDialogHidden",this.$1)};d.render=function(){return g.jsx(b("ClickableArea.react"),{onClick:this.$2,children:g.jsx("svg",{width:"60px",height:"60px",viewBox:"0 0 60 60",cursor:"pointer",children:this.props.threadColor!=null?g.jsx(b("LiveChatPluginMessengerIconSVGWithColor.react"),{threadColor:this.props.threadColor}):g.jsx(b("LiveChatPluginDefaultMessengerIconSVG.react"),{})})})};return c}(g.Component);e.exports=a}),null);
__d("MPNDesktopThreadPage.react",["cx","JSResource","LiveChatPluginConstants","MessengerSpinner.react","MPNDesktopDialogHeader.react","MPNXDMessageManager","lazyLoadComponent","React"],(function(a,b,c,d,e,f,g){"use strict";var h=b("lazyLoadComponent")(b("JSResource")("MPNDesktopThreadPageContent.react").__setRef("MPNDesktopThreadPage.react")),i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){var a=b("LiveChatPluginConstants").THREAD_PAGE_HEIGHT+b("LiveChatPluginConstants").THREAD_PAGE_PADDING_HEIGHT;b("MPNXDMessageManager").resizeIframe(a.toString())};d.render=function(){return i.jsx(i.Suspense,{fallback:i.jsx("div",{className:"_94vg",children:i.jsxs("div",{className:"_94vh",children:[i.jsx(b("MPNDesktopDialogHeader.react"),{ActionDelegate:this.props.ActionDelegate,history:this.props.history,menuEnabled:!1}),i.jsx("div",{className:"_424s",children:i.jsx("div",{className:"spinner",children:i.jsx(b("MessengerSpinner.react"),{color:"blue",size:b("MessengerSpinner.react").large_size})})})]})}),children:i.jsx(h,{ActionDelegate:this.props.ActionDelegate,history:this.props.history})})};return c}(i.Component);e.exports=a}),null);
__d("MPNDesktopWelcomePage.react",["LiveChatPluginLoggerUtil","MessagingPluginContext","MPNDesktopWelcomePageModal.react","MPNIdentity","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){var a=this.context.state,c=a.pageID,d=a.pluginMountTime;a=a.hasGuestMode;var e=b("MPNIdentity").MPNIdentity.currentUserState()==b("MPNIdentity").MPNIdentityState.FB;b("LiveChatPluginLoggerUtil").logImpressionFromNewUI("tab_impression",c,a?"welcome_page_with_guest_option":"welcome_page",d,a?[e?"continue_as":"chat_in_messenger","continue_as_guest"]:["chat_in_messenger"])};d.render=function(){try{return g.jsx(b("MPNDesktopWelcomePageModal.react"),{ActionDelegate:this.props.ActionDelegate,history:this.props.history,useITPContinueButton:!1})}catch(d){var a=this.context.state,c=a.pageID;a=a.hasGuestMode;b("LiveChatPluginLoggerUtil").logImpressionExceptionsFromNewUI("tab_load_failure",c,a?"welcome_page_with_guest_option":"welcome_page",d.name,d.message,d.stack)}};return c}(g.Component);e.exports=a;a.contextType=b("MessagingPluginContext")}),null);
__d("MPNDesktopRoute.react",["MessagingPluginPathUtils","MPNDesktopITPContinuePage.react","MPNDesktopThreadPage.react","MPNDesktopWelcomePage.react","React","ReactRouterDOM"],(function(a,b,c,d,e,f){e.exports=a;var g=b("React");function a(a){var c=a.path,d=a.ActionDelegate;return g.jsx((a=b("ReactRouterDOM")).BrowserRouter,{children:g.jsxs(a.Switch,{children:[g.jsx(a.Route,{render:function(a){return g.jsx(b("MPNDesktopWelcomePage.react"),babelHelpers["extends"]({},a,{ActionDelegate:d}))},exact:!0,path:b("MessagingPluginPathUtils").MPN_PATH.WELCOME}),g.jsx(a.Route,{render:function(a){return g.jsx(b("MPNDesktopITPContinuePage.react"),babelHelpers["extends"]({},a,{ActionDelegate:d}))},exact:!0,path:b("MessagingPluginPathUtils").MPN_PATH.ITPCONTINUE}),g.jsx(a.Route,{render:function(a){return g.jsx(b("MPNDesktopThreadPage.react"),babelHelpers["extends"]({},a,{ActionDelegate:d}))},exact:!0,path:b("MessagingPluginPathUtils").MPN_PATH.THREAD}),g.jsx(a.Redirect,{to:c})]})})}}),null);
__d("MPNDesktopWrapper.react",["Arbiter","AsyncRequest","Bootloader","LiveChatMqttClient","LiveChatPluginConstants","LiveChatPluginLoggerUtil","LiveChatPluginUtils","MessagingPluginContext","MessagingPluginGuestUpgradeActions","MessagingPluginPathUtils","MPNConstants","MPNDesktopIcon.react","MPNDesktopRoute.react","MPNIdentity","MPNLocalState","MPNNavigation","MPNStorage","MPNUnreadCountBadge.react","MPNXDMessageManager","React","ReactDOM","XMNPlatformCustomerChatPluginOpenThreadController"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h={NONE:0,CREATE_GUEST_SESSION:1,START_NEW_THREAD:2,GUEST_UPGRADE:3,GUEST_UPGRADE_SWITCH_ACCOUNT:4};a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.actionOnInit=h.NONE;d.iconIframeLoaded=!1;d.$2=null;d.initialPath=d.$4();d.props.redirectCommand==b("MPNConstants").MPNRedirect.NEW_GUEST_SESSION?d.actionOnInit=h.CREATE_GUEST_SESSION:d.props.redirectCommand==b("MPNConstants").MPNRedirect.FB_LOG_IN?d.actionOnInit=h.START_NEW_THREAD:d.props.redirectCommand==b("MPNConstants").MPNRedirect.GUEST_UPGRADE?d.actionOnInit=h.GUEST_UPGRADE:d.props.redirectCommand===b("MPNConstants").MPNRedirect.GUEST_UPGRADE_SWITCH_ACCOUNT&&(d.actionOnInit=h.GUEST_UPGRADE_SWITCH_ACCOUNT);d.ActionDelegate={onContinueAsGuest:d.onContinueAsGuest.bind(babelHelpers.assertThisInitialized(d)),openThreadWithCurrentFBUser:d.openThreadWithCurrentFBUser.bind(babelHelpers.assertThisInitialized(d)),openThreadWithInterstitial:d.openThreadWithInterstitial.bind(babelHelpers.assertThisInitialized(d)),onChatInMessenger:function(){},minimize:function(){b("MPNNavigation").minimizePlugin(d.context,!1)},maximize:function(){b("MPNNavigation").maximizePlugin(d.context,!1)}};d.$1=window.name;return d}var d=c.prototype;d.$4=function(){var a=this.props.redirectCommand;return a==b("MPNConstants").MPNRedirect.NEW_GUEST_SESSION||a==b("MPNConstants").MPNRedirect.FB_LOG_IN?b("MessagingPluginPathUtils").MPN_PATH.THREAD:this.props.path};d.componentDidMount=function(){this.$5(),b("MPNXDMessageManager").setupDesktopIframe(this.context.state.alignment),this.$6(),this.$7()};d.componentWillUnmount=function(){this.$3&&window.clearTimeout(this.$3)};d.componentDidUpdate=function(){this.$7()};d.$7=function(){var a=this,c=this.context.state,d=c.optimisticStorageState,e=c.pageID,f=c.pageName;c=c.accessToken;var g=b("MPNIdentity").MPNIdentity.currentUserID();if(this.$2==g||d.chatState===b("MPNLocalState").MPNChatState.CHAT_NOT_STARTED||g==null)return;d=b("MPNIdentity").MPNIdentity.currentUserState();d===b("MPNIdentity").MPNIdentityState.FB&&(b("LiveChatMqttClient").setUp(e,g,null,function(){return a.$2=g}),b("Bootloader").loadModules(["LiveChatPluginAlerts","MercurySyncDeltaHandler"],function(a,c){a.init(g,e,f,new Map(),!1,0),c.getForFBID(g),b("Arbiter").inform("MercurySyncDeltaHandler/initSeqID",{fbid:g,seqID:0})},"MPNDesktopWrapper.react"));d===b("MPNIdentity").MPNIdentityState.GUEST&&(c!=null&&(b("LiveChatMqttClient").setUp(e,g,null,null,c),this.$2=g))};d.$5=function(){var a=this;b("MPNXDMessageManager").setupIconIframe(this.$1,this.context.state.alignment);b("MPNXDMessageManager").subscribeEvent("plugin_wrapper","message","bubbleFrameLoaded",function(c){try{var d=a.context.state;if(c.data.frameName!=null){d=g.jsx(b("MPNDesktopIcon.react"),{threadColor:d.threadCSSColor,actionDelegate:a.ActionDelegate,pageID:d.pageID,pluginRequestTime:d.serverTime,initialVisibility:d.optimisticStorageState.visibility});var e=parent.frames[c.data.frameName].document.body;b("ReactDOM").render(d,e);a.iconIframeLoaded=!0}if(c.data.unreadCountFrameName!=null){d=g.jsx(b("MPNUnreadCountBadge.react"),{});e=parent.frames[c.data.unreadCountFrameName].document.body;b("ReactDOM").render(d,e)}a.$8()}catch(d){b("LiveChatPluginLoggerUtil").logImpressionExceptionsFromNewUI("tab_load_failure",a.context.state.pageID,"plugin_icon",d.name,d.message,d.stack,JSON.stringify({iconSrc:c.data.iconSrc,unreadSrc:c.data.unreadSrc}))}})};d.$8=function(){var a=this,b=this.context.state,c=b.greetingDialogDelay,d=b.greetingDialogDisplay;b=b.isInitialLoad;if(!b)return;b=!1;switch(d){case"show":case"unset":case"fade":b=c>0;break;case"hide":b=!1;break;default:break}if(!b)return;this.$3=window.setTimeout(function(){a.$9()},c)};d.$9=function(){this.context.state.optimisticStorageState.visibility==="hidden"&&b("MPNNavigation").maximizePlugin(this.context,!0)};d.$6=function(){var a=this;b("MPNXDMessageManager").subscribeEvent("plugin_wrapper","message","CustomerChat.SDK.Called",function(c){var d=a.context.state,e=d.pageID,f=d.greetingDialogDelay,g=d.threadCSSColor,h=d.loggedInGreeting;d=d.loggedOutGreeting;c=b("LiveChatPluginLoggerUtil").EVENTMAP[c.data.event];b("LiveChatPluginLoggerUtil").logImpressionEvents(c,e,JSON.stringify({greetingDialogDelay:f}),g,h,d)});b("MPNXDMessageManager").subscribeEvent("plugin_wrapper","message","updateCustomerChat",function(c){var d=a.context,e=d.state;d=d.dispatchAction;var f=e.loggedInGreeting,g=e.loggedOutGreeting;e=e.refParam;try{c=(c=c.data)==null?void 0:(c=c.message)==null?void 0:c.params;if(c==null)return;c=JSON.parse(c);var h=b("LiveChatPluginUtils").getSanitizedGreetingText(c.logged_in_greeting),i=b("LiveChatPluginUtils").getSanitizedGreetingText(c.logged_out_greeting);d({type:"SDK_UPDATE",loggedInGreeting:(d=h)!=null?d:f,loggedOutGreeting:(h=i)!=null?h:g,refParam:(d=c.ref)!=null?d:e})}catch(a){}});b("MPNXDMessageManager").subscribeEvent("plugin_wrapper","message","CustomerChat.isDialogHidden",function(c){c=((c=c.data.params)==null?void 0:c.is_dialog_hidden)==!0?"hidden":"not-hidden";b("MPNStorage").setVisibility(c);a.context.dispatchAction({type:"UPDATE_DIALOG_VISIBILITY",dialogVisibility:c})})};d.render=function(){this.actionOnInit==h.CREATE_GUEST_SESSION?(this.actionOnInit=h.NONE,this.onContinueAsGuest(function(){b("MPNStorage").clearRedirectCommand()})):this.actionOnInit==h.START_NEW_THREAD?(this.actionOnInit=h.NONE,b("MPNStorage").clearRedirectCommand(),this.openThreadWithCurrentFBUser()):this.actionOnInit==h.GUEST_UPGRADE?(this.actionOnInit=h.NONE,b("MPNStorage").clearRedirectCommand(),b("MessagingPluginGuestUpgradeActions").clearGuestStorage(this.context),b("MessagingPluginGuestUpgradeActions").setPluginStateToUpgradedThread(this.context)):this.actionOnInit==h.GUEST_UPGRADE_SWITCH_ACCOUNT&&(this.actionOnInit=h.NONE,b("MPNStorage").clearRedirectCommand(),b("MPNIdentity").MPNIdentity.subscribeLoggedInUserChanges(function(a,c){a=b("MPNStorage").getFBStorageState();a!=null&&b("MPNStorage").setFBStorageState(babelHelpers["extends"]({},a,{rdr:b("MPNConstants").MPNRedirect.GUEST_UPGRADE}));b("MPNXDMessageManager").reloadPlugin()},250));return this.context.state.optimisticStorageState.visibility=="not-hidden"||this.iconIframeLoaded?g.jsx(b("MPNDesktopRoute.react"),{path:this.initialPath,ActionDelegate:this.ActionDelegate}):null};d.$10=function(){var a=b("MPNStorage").getFBStorageState(),c=b("MPNIdentity").MPNIdentity.currentUserID();if(a==null||c==null)return;var d={path:b("MPNLocalState").MPNLocalStatePath.THREAD_VIEW,chatState:b("MPNLocalState").MPNChatState.LOGGED_IN_CHAT_STARTED,visibility:"not-hidden"};b("MPNStorage").setFBStorageState(babelHelpers["extends"]({},a,{currentPath:d.path,chatState:d.chatState,userID:c}));b("MPNStorage").setThirdPartyStorageState(d);this.context.dispatchAction({type:"START_CHAT",optimisticStorageState:d})};d.openThreadWithCurrentFBUser=function(){var a=this.context.state,c=a.pageID,d=a.requestID,e=a.refParam,f=a.refererUri;a=a.locale;c=b("XMNPlatformCustomerChatPluginOpenThreadController").getURIBuilder().setFBID("page_id",c).setString("ref",e).setString("referer_uri",f).setString("request_id",d).setString("locale",a).getRequest_LEGACY_UNTYPED(new(b("AsyncRequest"))());c.setAllowCrossPageTransition(!0).setMethod("POST").send();this.$10()};d.openThreadWithInterstitial=function(a){var c=this.context.state,d=c.pageID,e=c.requestID;b("Bootloader").loadModules(["PluginOptin","Plugin"],function(c,f){var g=this;new c("customer_chat").addLoginParams({logged_in:!0,page_id:d,request_id:e,switch_user:!1}).start();b("Arbiter").subscribeOnce(f.CONNECT,function(){g.$10(),a!=null&&a()})},"MPNDesktopWrapper.react")};d.onContinueAsGuest=function(a){var c=this.context,d=c.state,e=c.dispatchAction,f=d.pageID,g=d.locale,h=d.requestID;b("Bootloader").loadModules(["CreateCustomerChatPluginGuestUserMutation"],function(c){var i=this;c.commit({input:{page_id:f,locale:g}},{onSuccess:function(c){var i,j;i=(i=c.create_customer_chat_plugin_guest_user)==null?void 0:i.session_key;j=(j=c.create_customer_chat_plugin_guest_user)==null?void 0:j.fbid;c=(c=c.create_customer_chat_plugin_guest_user)==null?void 0:c.access_token;if(i!=null&&j!=null&&c!=null){i=b("MPNStorage").getFBStorageState();var k={path:b("MPNLocalState").MPNLocalStatePath.THREAD_VIEW,chatState:b("MPNLocalState").MPNChatState.GUEST_CHAT_STARTED,visibility:"not-hidden",showUpgradePrompt:b("MPNConstants").MPNUpgradePrompt.NOT_SHOWN};if(i!=null){var l=Date.now()+b("LiveChatPluginConstants").GUEST_SESSION_STORAGE_VALIDITY_MS;b("MPNStorage").setFBStorageState(babelHelpers["extends"]({},i,{currentPath:k.path,chatState:k.chatState,userID:j,accessToken:c,expirationTimestamp:l,showUpgradePrompt:b("MPNConstants").MPNUpgradePrompt.NOT_SHOWN}))}b("MPNIdentity").MPNIdentity.changeIdentityToGuest(j,c);e({type:"START_CHAT",optimisticStorageState:k,accessToken:c,guestID:j});i=b("XMNPlatformCustomerChatPluginOpenThreadController").getURIBuilder().setFBID("page_id",f).setString("ref",d.refParam).setString("referer_uri",d.refererUri).setString("request_id",h).setString("access_token",c).setString("locale",g).getRequest_LEGACY_UNTYPED(new(b("AsyncRequest"))());i.setAllowCrossPageTransition(!0).setMethod("POST").send();a(j,c)}},onFailure:function(a){var c=a.message.match(/\"error\":([0-9]+)/);c=c&&c.length>=2?c[1]:null;c=JSON.stringify({maybe_error_code:c,domain:i.context.state.originDomain,request_id:i.context.state.requestID,error:a.message});b("LiveChatPluginLoggerUtil").logImpressionEvents("customer_chat_guest_account_creation_failed",f,c,null,null,null);b("MPNStorage").clearFBStorageState();b("MPNStorage").clearThirdPartyStorageState();b("MPNXDMessageManager").reloadPlugin()}})},"MPNDesktopWrapper.react")};return c}(g.Component);e.exports=a;a.contextType=b("MessagingPluginContext")}),null);
__d("MessagingPluginDesktopRoot",["cx","CometBlueBridgeKeyCommandListener.react","LiveChatPluginErrorBoundary.react","MessagingPluginPathUtils","MessagingPluginStateProvider","MPNConstants","MPNDesktopWrapper.react","MPNIdentity","MPNLocalState","MPNStorage","MPNXDMessageManager","React","ReactDOM","URI","performanceAbsoluteNow"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=b("React");a=function(){function a(a){var c=a.alignment,d=a.pageID,e=a.container,f=a.serverTime,g=a.pagePassesSentryTest,i=a.hasMessagingPermission,j=a.isMuted,k=a.isPageBlocked,l=a.isBusinessActive,m=a.reloaded,n=a.requestID,o=a.refererUri,p=a.originDomain,q=a.soundURLs,r=a.hasGuestMode,s=a.showUpgradeUpsellPrompt,t=a.appSwitchUri,u=a.upgradeAppSwitchUri,v=a.storedStates,w=a.isComposerDisabled,x=a.hasPersistentMenu,y=a.pageName,z=a.pageProfilePictureUri,A=a.viewerProfilePicureUri,B=a.pageResponsiveness,C=a.isInstantlyResponsive,D=a.refParam,E=a.pageVerifiedStatus,F=a.greetingDialogDelay,G=a.greetingDialogDisplay,H=a.greetingDialogFadeDelay,I=a.loggedInGreeting,J=a.loggedOutGreeting,K=a.threadCSSColor,L=a.locale;a=a.icebreakers;var M=(h||(h=b("performanceAbsoluteNow")))();try{this.$1(c,d,e,f,g,i,j,k,l,m,n,o,p,q,t,u,r,s,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,M,L,a)}catch(a){}}var c=a.prototype;c.$1=function(a,c,d,e,f,g,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O){var P=this,Q=!1;b("MPNStorage").initialize(q,c,o);b("MPNIdentity").MPNIdentity.hasStorageAccess(function(n){b("MPNIdentity").MPNIdentity.init(n);var F=o,I=w;I||(I=P.$2(H,G),b("MPNStorage").setThirdPartyStorageState(I));var M=!1,R,S,T=I.visibility;if(n){b("MPNStorage").isAccessTokenExpired()&&(b("MPNStorage").clearFBStorageState(),I=P.$2(H,G),b("MPNStorage").setThirdPartyStorageState(I));var U=b("MPNStorage").getFBStorageState();if(U!=null&&U.requestID!=null&&U.requestID!=""){var V=U.requestID;(U.rdr==b("MPNConstants").MPNRedirect.NEW_GUEST_SESSION||U.rdr==b("MPNConstants").MPNRedirect.ITP_CONTINUE_SESSION)&&(F=V,b("MPNStorage").initialize(q,c,V))}Q=b("MPNStorage").setInitialStateIfNecessary(!1,T);U=b("MPNStorage").getFBStorageState();if(U!=null){M=U.chatState!=b("MPNLocalState").MPNChatState.CHAT_NOT_STARTED;R=U.accessToken;S=U.userID;T=U.visibility;I={path:U.currentPath,chatState:U.chatState,visibility:U.visibility,showUpgradePrompt:(V=U.showUpgradePrompt)!=null?V:b("MPNConstants").MPNUpgradePrompt.NOT_SHOWN};b("MPNStorage").setThirdPartyStorageState(I)}}U=P.$3(n,w);T=="hidden"&&b("MPNXDMessageManager").updateAppearance(!0,!0,"false","false",null,a,"true",U);b("MPNIdentity").MPNIdentity.subscribeLoggedInUserChanges(function(a,c){b("MPNIdentity").MPNIdentity.currentUserState()!=b("MPNIdentity").MPNIdentityState.GUEST&&(b("MPNStorage").clearFBStorageState(),b("MPNStorage").clearThirdPartyStorageState()),b("MPNXDMessageManager").reloadPlugin()});V={alignment:a,pageID:c,pageName:z,pagePassesSentryTest:f,hasMessagingPermission:g,isMuted:k,isPageBlocked:l,pageProfilePictureUri:A,viewerProfilePicureUri:B,threadCSSColor:L,pageResponsiveness:C,isInstantlyResponsive:D,isComposerDisabled:x,hasPersistentMenu:y,greetingDialogDelay:G,greetingDialogDisplay:H,loggedInGreeting:J,loggedOutGreeting:K,refParam:E,refererUri:p,originDomain:q,appSwitchUri:s,upgradeAppSwitchUri:t,locale:N,isBusinessActive:m,icebreakers:O,initialRequestUri:(i||(i=b("URI"))).getRequestURI(),requestID:F,chatStarted:M,accessToken:R,guestID:S,optimisticStorageState:I,soundURLs:r,isInitialLoad:Q,hasGuestMode:u,showUpgradeUpsellPrompt:v,pluginMountTime:(h||(h=b("performanceAbsoluteNow")))(),serverTime:e,upgradeUpsellPrompt:b("MPNConstants").MPNUpgradePrompt.NOT_SHOWN,messageCount:null,cookieAccessDenied:!1};b("ReactDOM").render(j.jsx(b("LiveChatPluginErrorBoundary.react"),{pageID:c,children:j.jsx(b("CometBlueBridgeKeyCommandListener.react"),{children:j.jsx(b("MessagingPluginStateProvider"),{initialState:V,children:j.jsx("div",{className:"_95ry",children:j.jsx(b("MPNDesktopWrapper.react"),{path:U,redirectCommand:b("MPNStorage").getRedirectCommand()})})})})}),d)})};c.$2=function(a,c){a=a==="hide"||c>0;return{path:b("MPNLocalState").MPNLocalStatePath.WELCOME_PAGE,chatState:b("MPNLocalState").MPNChatState.CHAT_NOT_STARTED,visibility:a?"hidden":"not-hidden",showUpgradePrompt:b("MPNConstants").MPNUpgradePrompt.NOT_SHOWN}};c.$3=function(a,c){var d=b("MessagingPluginPathUtils").MPN_PATH.WELCOME;if(a){a=b("MPNStorage").getFBStorageState();a!=null&&a.currentPath!=null?(d=b("MessagingPluginPathUtils").MessagingPluginPathUtils.toMobilePath(a.currentPath),b("MPNXDMessageManager").storeThirdPartyState(a.currentPath,a.chatState)):c!=null&&a==null&&b("MPNXDMessageManager").removeThirdPartyState()}else c!=null&&c.path!=null&&(d=b("MessagingPluginPathUtils").MessagingPluginPathUtils.toMobilePath(c.path)),d==b("MessagingPluginPathUtils").MPN_PATH.THREAD&&(d=b("MessagingPluginPathUtils").MPN_PATH.ITPCONTINUE);return d};return a}();e.exports=a}),null);